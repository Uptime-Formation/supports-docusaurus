---
title: Cours - Explorer et se d√©placer dans un d√©p√¥t
class: animation-fade
layout: true
weight: 200
---

## T√©l√©charger le code d'un logiciel g√©rer avec Git

Il s'agit de **t√©l√©charger** le d√©p√¥t d'un **logiciel** depuis Internet en cr√©ant un dossier contenant le code ainsi que son **historique Git**:

- `git clone <url d√©pot>` puis `cd <d√©p√¥t>` pour aller dans le dossier du d√©p√¥t.

  - par exemple `git clone https://github.com/YunoHost/gertrude/` et `cd gertrude`,
  - ou bien `https://github.com/spring-projects/spring-petclinic` et `cd spring-petclinic`
  - ou encore `https://github.com/miguelgrinberg/microblog` et `cd microblog`

- `git log` pour voir la liste des commits
- `git checkout <commit num>` pour vous **d√©placer** au niveau d'un commit : le code dans le d√©p√¥t **change**.
- `git diff <commit_1> <commit_2>` pour voir ce qui a chang√© entre deux commits.
- Plus pratique : utilisez **VSCode** et **Git Graph**

### Authentification aupr√®s d'un serveur (Remote)

Un d√©p√¥t Git t√©l√©charg√© depuis Internet peut √™tre priv√© : l'acc√®s est limit√© depuis le remote/la forge. Il faut alors se connecter √† son compte (en HTTP ou SSH) pour le cloner.

De fa√ßon g√©n√©rale il faut s'authentifier quand on utilise git. En effet, quand on veut modifier le d√©p√¥t distant (ajouter des commits), il faut de toute fa√ßon √™tre connect√© √† un compte.


La fa√ßon la plus neutre et g√©n√©rique est d'utiliser une cl√© SSH. Les clients github/gitlab sont pratique lorsque utilise ces forges mais cassent un peu l'universalit√© de git...


## L'historique d'un d√©p√¥t

![](/img/tig_history.png)

## `master` et les branches d'un d√©p√¥t

![](/img/git_branches_2.png)

- Un d√©p√¥t git permet d'avoir **plusieurs historiques** en parall√®le qu'on appelle des **branches**. Un d√©p√¥t git ressemble √† un arbre.

- La **branche principale** s'appelle **`master`** dans git (par convention), parfois `main`.

- √áa commence √† devenir compliqu√© ! Mais on va souvent travailler avec seulement **deux branches** üòå

- **master** + **une branche** pour votre travail en cours.

## Remonter le temps, d√©placer HEAD

- Si git **m√©morise les commits successifs** du d√©p√¥t c'est en particulier pour permettre de "_remonter le temps_", c'est-√†-dire **remettre le code** du d√©p√¥t **dans un √©tat ant√©rieur**.
  - `git checkout <commit>`. L'historique se met √©galement √† jour.
  - `git diff` permet √† tout moment d'afficher les diff√©rences entre deux points du d√©p√¥t.

- Dans git, **`HEAD`** d√©signe un curseur qui indique dans quel √©tat est le d√©p√¥t actuellement.
  - par d√©faut **`HEAD`** pointe sur le dernier commit de la branche (`master` s'il n'y en a qu'une).
  - remonter le temps cela signifie d√©placer **`HEAD`**.
  - **`git reflog` affiche l'historique des d√©placements de `HEAD`**.

## D√©placer HEAD dans l'historique

![](/img/head_point_3.jpg)

## Interface graphique pour explorer l'historique d'un d√©p√¥t.

Plusieurs √©diteurs de code proposent des interfaces graphique pour :

- naviguer dans les modifications d'un d√©p√¥t.
- comparer plusieurs √©tats du d√©p√¥t.

C'est le cas de VSCode, en particulier avec l'extension **Git Graph**

D'autres interfaces pratiques et ind√©pendantes de l'√©diteur : _tig_, _meld_, ...

- Installer Git Graph dans VSCode si ce n'est pas d√©j√† fait

## Utiliser les commandes `git reset` et `git reset --hard`

**Attention: `git reset --hard` peut vous faire perdre votre travail s'il n'est pas dans un commit !!!**

- `git reset` : r√©initialiser le `HEAD` au commit indiqu√© en gardant les modifications.
- `git reset --hard` : r√©initialiser le `HEAD` au commit indiqu√© en **perdant les modifications**

# Deuxi√®me partie des exercices
